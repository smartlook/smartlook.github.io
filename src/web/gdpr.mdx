---
name: 'GDPR'
route: /docs/web/gdpr
menu: Web
hidden: true
---

import {
	Code,
	CodeBlock,
	TextBlock,
	Link,
	Title,
	Subtitle,
	Image,
} from 'components'

import gdpr_consent_img from 'assets/web/gdpr_consent.png'
import consent_v1 from 'assets/web/consent_v1.png'
import consent_v2 from 'assets/web/consent_v2.png'

<Title>GDPR</Title>
<Subtitle>Record user information about EU visitors.</Subtitle>

<TextBlock kind="important">
	{`
  **IMPORTANT NOTE**: This API is deprecated and works only for projects created before **14th of March 2022** (consent version 1).
  There is an ongoing transition period until the 16th of May 2022 in which you should migrate to the new API
  described in <a href="/docs/web/consent-sensitive-data" target="_blank" rel="noopener noreferrer">Consent sensitive data</a> section.
  After the period old API will no longer work and any call will show only a warning with a link to this documentation.<br />
  <b>Project's consent version</b> can be found in project detail (screenshot below).
  `}
</TextBlock>
<img src={consent_v1} />
<img src={consent_v2} />

<TextBlock kind="note">
	{`
Make sure you enabled the corresponding project settings before using this API.
`}
</TextBlock>

## Verify user consent

Read more about [GDPR](https://www.smartlook.com/help/gdpr/) in our HELP section. Once the user gave consent, you can use this API. The code below needs to be adjusted based on the user's answer.

At Smartlook we use a pop-up window to ask for user consent. You should implement a similar solution on your site.

<Image src={gdpr_consent_img} alt="user consent" />

Verify if a visitor gave their consent or not:

<Code
	kind="example"
	snippets={{
		javascript: `
<script>
  smartlook(function() {
    console.log(smartlook.consent.api)
    console.log(smartlook.consent.forms)
    console.log(smartlook.consent.ip)
  });
</script>
`,
	}}
/>

There are 3 possible values that you can see in the console:

1. `true` if user agreed and provided consent
2. `false` if user refused to provide consent
3. `null` if user was not asked for consent yet

## Form inputs

User consented to have their form inputs recorded.

<Code
	kind="example"
	snippets={{
		javascript: `
<script>
  // in this variable insert your consent
  var consentText = 'Here goes consent text from your website.';\n
  // choose only one variable
  var clientDecision = true; // if user agreed and provided consent
  var clientDecision = false; // if user refused to provide consent\n
  smartlook('consentForms', clientDecision ? consentText : false);
</script>
`,
	}}
/>

## IP address

User consented to have their IP address recorded.

<Code
	kind="example"
	snippets={{
		javascript: `
<script>
  // in this variable insert your consent
  var consentText = 'Here goes consent text from your website.';\n
  // choose only one variable
  var clientDecision = true; // if user agreed and provided consent
  var clientDecision = false; // if user refused to provide consent\n
  smartlook('consentIP', clientDecision ? consentText : false);
</script>
`,
	}}
/>

## Identify user via API

User consented to being identified via the API.

<Code
	kind="example"
	snippets={{
		javascript: `
<script>
  // in this variable insert your consent
  var consentText = 'Here goes consent text from your website.';\n
  // choose only one variable
  var clientDecision = true; // if user agreed and provided consent
  var clientDecision = false; // if user refused to provide consent\n
  smartlook('consentAPI', clientDecision ? consentText : false);
</script>
`,
	}}
/>

## GDPR safe data

You can add attribute `data-recording-gdpr-safe` to any element that is safe and its numerical data (numbers, prices) are not sensitive.

<Code
	kind="example"
	snippets={{
		html: `
<p data-recording-gdpr-safe>
  Tesla Model X price is $80,700.
</p>
`,
	}}
/>
