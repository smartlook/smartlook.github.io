---
name: API reference
route: /api_reference
---
import { Code, CodeBlock, TextBlock, Alert, Link, MD } from "components";
import { usePlatforms } from 'hooks'


# Lifecycle & recording

## SDK setup (on application start)
Smartlook SDK **setup** needs to be called only **once during application lifetime** and it should be called **on application startup**. There is **no need to stop** recording explicitly **on application closure**, SDK stops itself automatically.


<MD visibleOn="android" markup={`
The best place to setup the SDK is in \`onCreate()\` method of your \`Application\` class:
`}/>

<MD visibleOn="cordova" markup={`
The best place to setup the SDK is in \`onDeviceReady\`:
`}/>

<MD visibleOn="ios" markup={`
The best place to setup the SDK is in \`didFinishLaunchingWithOptions\` method of the \`ApplicationDelegate\`:
`}/>

<CodeBlock
  snippets={{
    android: {
      java: `
import android.app.Application;\n
public class MyCustomApplication extends Application {
    @Override
    public void onCreate() {
        super.onCreate();
        Smartlook.setupAndStartRecording(YOUR_API_KEY);
    }
}
      `,
      kotlin: `
import android.app.Application;\n
class MyCustomApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        Smartlook.setupAndStartRecording(YOUR_API_KEY)
    }
}
      `,
    },
    cordova: {
      javascript: `
if(document.readyState === "complete") {
  document.addEventListener("deviceready", onDeviceReady, false);
}\n
function onDeviceReady() {
    Smartlook.setupAndStartRecording({smartlookAPIKey: "YOUR_API_KEY"});
}
      `,
    },
    ios: {
      swift: `
import Smartlook
 
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
 
  Smartlook.setup(key: "YOUR_API_KEY")
  Smartlook.startRecording()
  
  // other initialization stuff
    
  return true
}
      `,
      'objective-c': `
#import <Smartlook/Smartlook.h>
    
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
        
    [Smartlook setupWithKey: @"YOUR_API_KEY"];
    [Smartlook startRecording];
  
    // other initialization stuff
  
    return YES;
}
      `,
    },
    flutter: {
    dart: `
import 'package:smartlook/smartlook.dart';
\n
class _MyAppState extends State<MyApp> {
  @override
  void initState() {
    super.initState();
    ...
    Smartlook.setupAndStartRecording('YOUR_API_KEY');
    ...
    }
}
`,
  },
  unity: {
    csharp: `
public class NewBehaviourScript : MonoBehaviour
{
    // Start is called before the first frame update
    void Start()
    {
        SmartlookUnity.Smartlook.SetupAndStartRecording("YOUR_API_KEY");
    }
\n
    // Update is called once per frame
    void Update()
    {
        ...
    }
}
`,
  },
  react: {
    javascript: `
var Smartlook = require('smartlook-react-native-wrapper');
Smartlook.setupAndStartRecording("YOUR_API_KEY");
`,
  }
  }}
/>

<Alert kind="note" visibleOn="android">
  If you need to setup SDK later than in Application class, typically if you are fetching your API key, please take a look here.
</Alert>

The easiest way of setting up the SDK is with `setupAndStart()` method:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setupAndStart(@NotNull String apiKey);
      `,
      kotlin: `
Smartlook.setupAndStart(@NotNull apiKey: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setupAndStartRecording({smartlookAPIKey: "YOUR_API_KEY"});
      `,
    },
  }}
/>

It will set the SDK up and also start the recording. If you want to start recording later you can just use:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setup(@NotNull String apiKey);
      `,
      kotlin: `
Smartlook.setup(@NotNull apiKey: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setup({smartlookAPIKey: "YOUR_API_KEY"});
      `,
    },
    ios: {
      swift: `
class func setup(withKey key: String)
      `,
      'objective-c': `
+(void)setupWithKey:(nonnull NSString *)key;
      `,
    },
    flutter: {
    dart: `
Smartlook.setup(String key, [int fps = 2]);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.Setup("YOUR_API_KEY");
SmartlookUnity.Smartlook.Setup("YOUR_API_KEY", fps);
`,
  },
  react: {
    javascript: `
Smartlook.setup("YOUR_API_KEY", fps);
`,
  }
  }}
/>

<Alert kind="note" visibleOn="android">
  You need to provide your Smartlook SDK API key which can be acquired in the Smartlook Dashboard.
</Alert>

And then when you want to start the recording call:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.startRecording();
      `,
      kotlin: `
Smartlook.startRecording()
      `,
    },
    cordova: {
      javascript: `
Smartlook.startRecording();
      `,
    },
    ios: {
      swift: `
class func startRecording()
      `,
      'objective-c': `
+ (void)startRecording;
`,
    },
    flutter: {
    dart: `
Smartlook.startRecording();
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.StartRecording();
`,
  },
  react: {
    javascript: `
Smartlook.startRecording();
`,
  }
  }}
/>

### Setup configuration

<TextBlock visibleOn="ios,android">
Some recording parameters can be configured on setup:
</TextBlock>


<MD visibleOn="android" markup={`
| Parameter           | Required | Description                                                                                                                                        | Default value        |
|---------------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
| apiKey              | yes      | Unique 40 character key identifying your app (can be found in the dashboard).                                                                      | ""                   |
| fps                 | no       | Recorded video frame rate (allowed values between 2 and 10). Note that by setting this value you will override frame rate settings from Dashboard! | 2                    |
| experimental        | no       | Set this to true to enable some experimental features as TextureView/Maps/MapBox recording etc.                                                    | false                |
| activity            | no       | Actual activity reference is required when setting the SDK outside of Application class. Full example shown here.                                  | null                 |
| renderingMode       | no       | Define the way SDK is going to capture screen image data. Full documentation here.                                                                 | RenderingMode.NATIVE |
| renderingModeOption | no       | Further customize rendering mode.                                                                                                                  | null                 |
`}/>

<MD visibleOn="ios" markup={`
\n
The following table describes all available optional parameters. Most of them can be also set by a dedicated method. See the respective documentation section for details.
\n
The options dictionary keys are constants defined as members of \`SetupOptionKey\` enumeration.
\n
| Parameter            | Type                   | Default value | Description                                                                                                                                 
|----------------------|------------------------|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| .enableCrashlytics   | bool                   | false         | Enables Firebase Crashlytics integration              |
| .framerate           | int                    | 2             | Recorded video frame rate (allowed values between 2 and 10). Note that by setting this value you will override frame rate settings from Dashboard!   |
| .useAdaptiveFramerate | bool                    | true        | By defaults, Smartlook adapts its recording framerate to the frequency of UI changes in order to lower its footprint in app performace. For details, see FIXME LINK -> <Link to="/conceptual/screen-recording-quality">Screen Recording Quality</Link>. |
| .renderingMode       | RenderingMode          | native        | Define the way SDK is going to capture screen image data. Full documentation [here](#rendering).   |
| .renderingModeOption | RenderingModeOption    | none          | Further customize rendering mode. Full documentation [here](#rendering).  |
| .startNewSession     | bool                   | false         | Always start new session with Smartlook setup. Full documentation [FIXME LINK here]().  |
| .startNewSessionAndUser | bool                | false         | Always start new session and reset user woth Smartlook setup. Full documentation [FIXME LINK shere]().  |
`}/>

<MD visobleOn="android"  markup={`
Full SDK setup configuration can be done with \`SetupOptionsBuilder\`, that lets you set any of above shown setup parameters with ease:
`}/>

<MD visibleOn="ios"  markup={`
Full SDK setup configuration can be done with optional \`setup\` method parameter:
`}/>

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.SetupOptionsBuilder builder = new Smartlook.SetupOptionsBuilder(@NotNull String apiKey)
        .setFps(int fps)
        .setExperimental(boolean experimental)
        .setActivity(@NonNull Activity activity)
        .setRenderingMode(@RenderingMode String renderingMode)
        .setRenderingMode(@RenderingModeOption String renderingModeOption);\n
Smartlook.setupAndStartRecording(builder.build());
      `,
      kotlin: `
val builder = Smartlook.SetupOptionsBuilder(@NotNull apiKey: String)
        .setFps(fps: Int)
        .setExperimental(experimental: Boolean)
        .setActivity(@NonNull activity: Activity)
        .setRenderingMode(@RenderingMode renderingMode: String)
        .setRenderingMode(@RenderingModeOption renderingModeOption: String)\n
Smartlook.setupAndStartRecording(builder.build())
      `,
    },
    ios: {
      swift: `
class func setup(key: String, options: [Smartlook.SetupOptionKey : Any]? = nil)
`,
      'objective-c': `
+(void)setupWithKey:(nonnull NSString *)key options:(nullable NSDictionary<SLSetupOptionKey,id> *)options;
    
// values in the options dictionary must be objects, e.g.,
[Smartlook setupWithKey:@"SOME_API_KEY" options:@{ SLSetupOptionFramerateKey: @3 }];
      `,
    },
  }}
/>

Android
TIP: You can replace the last line with `Smartlook.setup()` and start the recording later.
 
Cordova
Recording **framerate** can be set during setup. Allowed values are from a range from 2 to 10 fps.

<CodeBlock
  snippets={{
    cordova: {
      javascript: `
Smartlook.setupAndStartRecording({smartlookAPIKey: "YOUR_API_KEY", fps: 2});
      `,
    },
  }}
/>

## Start and stop recording
Recording can be **started** or **stopped** at any time, the only requirement is that the SDK is set up (see setup).

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.startRecording();
Smartlook.stopRecording();
      `,
      kotlin: `
Smartlook.startRecording()
Smartlook.stopRecording()
      `,
    },
    cordova: {
      javascript: `
Smartlook.startRecording();
Smartlook.stopRecording();
      `,
    },
    ios: {
      swift: `
class func startRecording()
class func stopRecording()
`,
      'objective-c': `
+ (void)startRecording;
+ (void)stopRecording;
      `,
    },
    flutter: {
    dart: `
Smartlook.startRecording();
Smartlook.stopRecording();
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.StartRecording();
SmartlookUnity.Smartlook.StopRecording();
`,
  },
  react: {
    javascript: `
Smartlook.startRecording();
Smartlook.stopRecording();
`,
  }
  }}
/>

NOTE: You **don't need to call** `stopRecording()` on application closure. **Recording is stopped automatically**.

## Check if SDK is recording
If you are using `startRecording()` and `stopRecording()` methods it might be handy to know if SDK is currently recording or not. Simply call:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.isRecording();
      `,
      kotlin: `
Smartlook.isRecording()
      `,
    },
    cordova: {
      javascript: `
cordova.plugins.SmartlookPlugin.isRecording(
    function(isRecording){
        //check here
    }
)
      `,
    },
    ios: {
      swift: `
class func isRecording() -> Bool
`,
      'objective-c': `
+ (BOOL)isRecording;
      `,
    },
    flutter: {
    dart: `
Smartlook.isRecording();
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.IsRecording();
`,
  },
  react: {
    javascript: `
Smartlook.isRecording();
`,
  }
  }}
/>

# Sensitive data hiding

Android
When using **native** rendering mode, **SDK can record sensitive data in your application**. You can configure recording using methods listed below so sensitive data is not recorded, or you can simply use one of **Wireframe** rendering mode that does not record sensitive data by default.

## Blacklisted views

<TextBlock visibleOn="flutter,unity">
This functionality is not available yet.
</TextBlock>

You can hide any view in the recording by marking it as a **blacklisted** view.

View can be marked as blacklisted by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.registerBlacklistedView(View view);
Smartlook.registerBlacklistedViews(List<View> views);
      `,
      kotlin: `
Smartlook.registerBlacklistedView(view: View)
Smartlook.registerBlacklistedViews(views: List<View>)
      `,
    },
    ios: {
      swift: `
class func registerBlacklisted(object: Any)
`,
      'objective-c': `
+ (void)registerBlacklistedObject:(nonnull id)object;
      `,
    },
    react: {
    javascript: `
Smartlook.registerBlacklistedView(ref);
`,
  }
  }}
/>
<Alert kind="example" visibleOn="ios">
  <CodeBlock
    snippets={{
      ios: {
        swift: `
Smartlook.registerBlacklisted(object: someView)
`,
        'objective-c': `
[Smartlook registerBlacklistedObject:self.someView];
      `,
    },
  }}
/>
</Alert>

<TextBlock visibleOn="android">
Or can be tagged directly in xml layout file:
</TextBlock>
<TextBlock visibleOn="ios">
Or can be tagged directly by an UIView property added by Smartlook:
</TextBlock>

<CodeBlock
  snippets={{
    android: {
      xml: `
<View>
    <tag android:id="@id/smartlook_blacklisted_view"/>
</View>
      `,
    },   
    ios: {
      swift: `
var slSensitive: Bool
`,
      'objective-c': `
@property (nonatomic, assign) IBInspectable BOOL slSensitive;
      `,
    },
  }}
/>
<Alert kind="example" visibleOn="ios">
  <CodeBlock
    snippets={{
      ios: {
        swift: `
someView.slSensitive = true
`,
        'objective-c': `
self.someView.slSensitive = YES;
      `,
    },
  }}
/>
</Alert>

If view no longer needs to be blacklisted call:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.unregisterBlacklistedView(View view);
Smartlook.unregisterBlacklistedViews(List<View> views);
      `,
      kotlin: `
Smartlook.unregisterBlacklistedView(view: View)
Smartlook.unregisterBlacklistedViews(views: List<View>)
      `,
    },   
    ios: {
      swift: `
class func registerBlacklisted(object: Any)
`,
      'objective-c': `
+ (void)unregisterBlacklistedObject:(nonnull id)object
      `,
    },
    react: {
    javascript: `
Smartlook.unregisterBlacklistedView(ref);
`,
  }
  }}
/>

TIP: Blacklisted view is hidden on recording by single color rectangle. You can configure color of this rectangle by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setBlacklistedItemsColor(@ColorInt int color);
      `,
      kotlin: `
Smartlook.setBlacklistedItemsColor(@ColorInt color: Int);
      `,
    },
    ios: {
      swift: `
class func setBlacklistedItem(color: UIColor)
`,
      'objective-c': `
+ (void)setBlacklistedItemsColor:(nonnull UIColor *)color;
      `,
    },
  }}
/>



This works for all blacklisted objects.

## Blacklisted classes

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

<MD visobleOn="android"  markup={`
If you dont want to blacklist specific views and rather blacklist all views of given \`Class\`, use:
`}/>
<MD visibleOn="ios"  markup={`
You can also blacklist all instances of a **\`UIView\` subclass** or all \`UIView\` subclasses that conform some **protocol**:
`}/>
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.registerBlacklistedClass(Class class);
Smartlook.registerBlacklistedClasses(List<Class> classes);
      `,
      kotlin: `
Smartlook.registerBlacklistedClass(class: Class)
Smartlook.registerBlacklistedClasses(classes: List<Class>)
      `,
    },
    ios: {
      swift: `
// Note: the object can be UIView instance, UIView subclass or a Protocol,
// see examples below
class func registerBlacklisted(object: Any)
`,
      'objective-c': `
// Note: the object can be UIView instance, UIView subclass or a Protocol 
// see examples below
+ (void)registerBlacklistedObject:(nonnull id)object;
      `,
    },
  }}
/>
<Alert kind="example" visibleOn="ios">
  <CodeBlock
    snippets={{
      ios: {
        swift: `
// Note: the object can be UIView instance, UIView subclass or a Protocol 
someView.slSensitive = true
Smartlook.registerBlacklisted(object: someView)      
Smartlook.registerBlacklisted(object: SensitiveDataViewClass.self)      
Smartlook.registerBlacklisted(object: SensitiveProtocol.self)
`,
        'objective-c': `
// Note: the object can be UIView instance, UIView subclass or a Protocol 
self.someView.slSensitive = true
[Smartlook registerBlacklistedObject:self.someView];          
[Smartlook registerBlacklistedObject:SensitiveDataViewClass.class];          
[Smartlook registerBlacklistedObject:@protocol(SensitiveProtocol)];
      `,
    },
  }}
/>
</Alert>

<MD visobleOn="android"  markup={`
Note: Note that \`EditText\` and \`WebView\` are **blacklisted by default** and can be removed using \`Smartlook.unregisterBlacklistedClass()\`.
 
You can remove any of blacklisted classes:
`}/>
<MD visibleOn="ios"  markup={`
Note that for convenience, **some classes are blacklisted by default**: \`UITextView\`, \`UITextField\` and \`WKWebView\`.
 
You can remove any of the blacklisted objects:
`}/>


<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.unregisterBlacklistedClass(Class class);
Smartlook.unregisterBlacklistedClasses(List<Class> classes);
      `,
      kotlin: `
Smartlook.unregisterBlacklistedClass(class: Class)
Smartlook.unregisterBlacklistedClasses(classes: List<Class>)
      `,
    },
    ios: {
      swift: `
class func unregisterBlacklisted(object: Any)
`,
      'objective-c': `
+ (void)unregisterBlacklistedObject:(nonnull id)object
      `,
    },
  }}
/>

## Whitelisted views

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

¿*NOTE: let us perhaps consider a bit denser documentation of whitelisting (as the methods are equivalent of blacklistig, similar of how it is now in current iOS documentation? https://smartlook.github.io/docs/sdk/ios/#whitelisting)*?

In case you need some view to be recorded even if its instance of a blacklisted class, you can whitelist it:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.registerWhitelistedView(View view);
Smartlook.registerWhitelistedViews(List<View> views);
      `,
      kotlin: `
Smartlook.registerWhitelistedView(view: View)
Smartlook.registerWhitelistedViews(views: List<View>)
      `,
    },
    ios: {
      swift: `
class func registerWhitelisted(object: Any)
`,
      'objective-c': `
+ (void)registerWhitelistedObject:(nonnull id)object;
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
Or you can tag them directly in \`xml\` layout file:`} 
/>
<MD visibleOn="ios" markup={`
Or can be tagged directly by an \`UIView\` property added by Smartlook:
`} />
<Alert kind="example" visibleOn="ios,android">
  <CodeBlock
    snippets={{
      android: {
        xml: `
<View>
    <tag android:id="@id/smartlook_whitelisted_view"/>
</View>
      `,
      },   
      ios: {
        swift: `
someView.slSensitive = false
`,
      'objective-c': `
self.someView.slSensitive = NO;
      `,
      },
    }}
  />
</Alert>

You can remove view from whitelist by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.unregisterWhitelistedView(View view);
Smartlook.unregisterWhitelistedViews(List<View> views);
      `,
      kotlin: `
Smartlook.unregisterWhitelistedView(view: View)
Smartlook.unregisterWhitelistedViews(views: List<View>)
      `,
    },
    ios: {
      swift: `
Smartlook.unregisterWhitelisted(object: someView)
`,
      'objective-c': `
[Smartlook unregisterWhitelistedObject:someView];
      `,
    },
  }}
/>

Cordova, Ionic
Some elements in your application cannot be recorded because of security (posibly GDPR) reasons.
All of theese can be marked and will be hidden on the recording.

NOTE: Sensitive elements are **hidden locally** on the device, no sentive data is transfered over network and stored in our dashboard.

## Hidden elements
Sensitive elements can be blacklisted by marking them with `.smartlook-hide` css class:

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

<CodeBlock
  snippets={{
    cordova: {
      html: `
<div class='smartlook-hide'>
   This will be hidden.
</div>
      `,
    },
    ionic: {
      html: `
<div class='smartlook-hide'>
   This will be hidden.
</div>
      `,
    },
  }}
/>

NOTE: **All inputs** are **hidden** by default except for `button` and `submit` types.

## Shown elements
If you need to record some input that is hidden by default you can mark it with `.smartlook-show` css class:

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

<CodeBlock
  snippets={{
    cordova: {
      html: `
<input type="text" class='smartlook-show'>
      `,
    },
    ionic: {
      html: `
<input type="text" class='smartlook-show'>
      `,
    },
  }}
/>

## No Rendering
In case your whole screen consists of sensitive data you can tell SDK to not record any screen data. This can be done by switching into "no‑rendering" rendering mode:

<Alert kind="example">
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setRenderingMode(RenderingMode.NO_RENDERING);
      `,
      kotlin: `
Smartlook.setRenderingMode(RenderingMode.NO_RENDERING)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setRenderingMode({renderingMode: Smartlook.RenderingMode.NO_RENDERING})
      `,
    },   
    ios: {
      swift: `
Smartlook.setRenderingMode(to: .noRendering)
`,
      'objective-c': `
[Smartlook setRenderingModeTo:SLRenderingModeNoRendering];
      `,
    },
    flutter: {
    dart: `
Smartlook.setRenderingMode(SmartlookRenderingMode.no_rendering);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetRenderingMode(RenderingModeType.no_rendering);
`,
  },
  react: {
    javascript: `
Smartlook.setRenderingMode("no_rendering");
`,
  }
  }}
/>
</Alert>

Android, iOS
TIP: SDK provides rendering modes that hide sensitive information by simplifying the rendered screen for recording. This can be advantageous because you can see what is the user doing and be safe in sensitive data regard. You can read more about rendering modes here.

TIP: Some screens can leak sensitive data even through automatically detected touch events. You can read more about this issue here.

When your application is no longer displaying sensitive screen you can set your rendering mode to preferred variant:

<Alert kind="example" visibleOn="ios,android">
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setRenderingMode(RenderingMode.NATIVE);
      `,
      kotlin: `
Smartlook.setRenderingMode(RenderingMode.NATIVE)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setRenderingMode({renderingMode: Smartlook.RenderingMode.NATIVE})
      `,
    },   
    ios: {
      swift: `
Smartlook.setRenderingMode(to: .native)
`,
      'objective-c': `
[Smartlook setRenderingModeTo:SLRenderingModeNative];
      `,
    },
    flutter: {
    dart: `
Smartlook.setRenderingMode(SmartlookRenderingMode.native);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetRenderingMode(RenderingModeType.native);
`,
  },
  react: {
    javascript: `
Smartlook.setRenderingMode("native");
`,
  }
  }}
/>
</Alert>

Android
## WebView blacklisting/whitelisting

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

<MD visibleOn="android" markup={`
If your application has some parts displayed using \`WebView\` and you want to record those parts you need to enable \`WebView\` recording by removing \`WebView\` from list of blacklisted classes:
`} />
<MD visibleOn="ios" markup={`
If your application has some parts displayed using \`WKWebView\` and you want to record those parts you need to enable \`WKWebView\` recording by removing \`WKWebView\` from list of blacklisted classes:
`} />
<Alert kind="note" visibleOn="ios">
`UIWebView` class is obsolete and no longer supported by Apple. Thus, its instances and their content are not specifically handled by Smartlook from the *sensitivity* point of view.
</Alert>

<Alert kind="example" visibleOn="ios,android">
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.unregisterBlacklistedClass(WebView.class);
      `,
      kotlin: `
Smartlook.registerBlacklistedClass(WebView::class.java)
      `,
    },
    ios: {
      swift: `
Smartlook.unregisterBlacklisted(object: WKWebView.class)
`,
      'objective-c': `
[Smartlook unregisterBlacklistedObject:WKWebView.class];
      `,
    },
  }}
/>
</Alert>

Now that you are recording all `WebView`s please **make sure that all sensitive elements** on the displayed web page **are hidden**. This can be done by marking sensitive html elements with `.smartlook-hide` css class:

<Code
  snippets={{
    html: `
<div class='smartlook-hide'>
   This will be hidden.
</div>
`,
  }}
/>

All input inputs are hidden by default except for `button` and `submit` types. If you need to record some hidden inputs you can mark these views with `.smartlook-show` css class:

<Code
  snippets={{
    html: `
<input type="text" class='smartlook-show'>
`,
  }}
/>

# User Identification
You can specify user identifier by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setUserIdentifier(@NonNull String identifier);
      `,
      kotlin: `
Smartlook.setUserIdentifier(@NonNull identifier: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setUserIdentifier({identifier: "sample_identifier"})
      `,
    },   
    ios: {
      swift: `
class func setUserIdentifier(_ userIdentifier: String?)
`,
      'objective-c': `
+ (void)setUserIdentifier:(nullable NSString*)userIdentifier;
      `,
    },
    flutter: {
    dart: `
Smartlook.setUserIdentifier(String key, [Object map = null]);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetUserIdentifier(string userIdentifier);
//json string, obtained for example with JsonUtility.ToJson(param)
SmartlookUnity.Smartlook.SetUserIdentifier(string userIdentifier, string properties);
`,
  },
  react: {
    javascript: `
Smartlook.setUserIdentifier(idKey, map);
`,
  }
  }}
/>

TIP: You can then lookup identifiers in the Dashboard to find specific user’s recordings.

Android
## User properties

<TextBlock visibleOn="flutter,unity,react">
This functionality is described in <b>User Identification</b> section.
</TextBlock>


Additional user information such as `name`, `email`, etc. can be set using `UserProperties` helper class and its methods:

<CodeBlock
  snippets={{
    android: {
      java: `
UserProperties userProperties = new UserProperties();
userProperties.putEmail("sample@email.com");
userProperties.putName("John Doe");
Smartlook.setUserProperties(userProperties);
      `,
      kotlin: `
val userProperties = UserProperties().apply {
    putEmail("sample@email.com")
    putName("John Doe")
}
Smartlook.setUserProperties(userProperties)
      `,
    },
  }}
/>

NOTE: If you set `email` or `name` property it will be displayed in the list of visitors in the Smartlook dashboard. Otherwise `identifier` is used.

If there is no helper method for the data you want to set to user properties use `put()` method that accepts combination of `key` and `value`.

<CodeBlock
  snippets={{
    android: {
      java: `
UserProperties userProperties = new UserProperties();
userProperties.put("key", "value");
Smartlook.setUserProperties(userProperties);
      `,
      kotlin: `
val userProperties = UserProperties()
userProperties.put("key", "value")
Smartlook.setUserProperties(userProperties)
      `,
    },
  }}
/>

NOTE: All helper and `put()` method has optional parameter `immutable` if set to **true**, the value that has been set for the key is going to be immutable.
This means it cannot be set again (new value will **not overrride** the old one).

Cordova

Additional user information, such as `name`, `email` and other custom properties can be set by calling:

<CodeBlock
  snippets={{
    cordova: {
      javascript: `
cordova.plugins.SmartlookPlugin.setUserIdentifier(
    {identifier: "CordovaUser", sessionProperties: {name: "Cordova", email: "cordova@example.com"}})
      `,
    },
  }}
/>

[//]: # (The following is iOS - specific documentation)
iOS
<MD visibleOn="ios" markup={`
Additional custom properties can be added to each recording session by calling:
`} />
<CodeBlock
  snippets={{
    ios: {
      swift: `
class func setSessionProperty(value: String, forName name: String)
`,
      'objective-c': `
+ (void)setSessionPropertyValue:(nonnull NSString *)value forName:(nonnull NSString *)name;
`,
    },
  }}
/>
<MD visibleOn="ios" markup={`
You will see these properties in the Dashboard at Visitor details.
\n    
If you do want locking a session property value to protect it against accidental further changes. Immutable property value cannot be changes once it is set.
`} />
<CodeBlock
  snippets={{
    ios: {
      swift: `
static var immutable: SLPropertyOption
 
class func setSessionProperty(value: String, forName name: String, options: SLPropertyOption)
`,
      'objective-c': `
typedef NS_OPTIONS(NSUInteger, SLPropertyOption) {
    SLPropertyOptionDefaults    = 0,
    SLPropertyOptionImmutable   = 1 << 0
};
+ (void)setSessionPropertyValue:(nonnull NSString *)value forName:(nonnull NSString *)name withOptions:(SLPropertyOption)options;
`,
    },
  }}
/>  
<Alert kind="example" visibleOn="ios">
  <CodeBlock
    snippets={{
      ios: {
        swift: `
Smartlook.setSessionProperty(value: "immutable-value", forName: "my-property", options: .immutable)
`,
        'objective-c': `
[Smartlook setSessionPropertyValue:@"immutable-value" forName:@"my-property" withOptions:SLPropertyOptionImmutable];
      `,
    },
  }}
/>
</Alert>

# Analytics

Android, iOS
Some analytic events are recorded out-of-box:
* Activity/Fragment changes
* Focus changes
* Clicked views
* Application crashes
* For everything else you can use custom events.

TIP: Names of some automatically detected events can be customized.

Cordova

On web based frameworks we are not able to autodetect all events like on native frameworks. With that said we are still able to detect Application crashes.
For everything else you need to use custom events.

## Custom event
You can track simple custom event by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.trackCustomEvent(@NonNull String eventName);
      `,
      kotlin: `
Smartlook.trackCustomEvent(@NonNull eventName: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.trackCustomEvent({name: "sample_event"})
      `,
    },
    ios: {
      swift: `
class func trackCustomEvent(name eventName: String)
`,
      'objective-c': `
+ (void)trackCustomEventWithName:(nonnull NSString*)eventName;
      `,
    },
    flutter: {
    dart: `
Smartlook.trackCustomEvent(String eventName);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.TrackCustomEvent(string eventName);
`,
  },
  react: {
    javascript: `
Smartlook.trackCustomEvent(key);
`,
  }
  }}
/>

Android
Additional data serialized as `JSONObject`, `Bundle`, `String` with valid json format or key/value pair can be added to custom event:

Cordova
Addition data passed as a `object` can be added to custom event:

<MD visibleOn="ios" markup={`
Custom event also accepts a dictionary of string key/values as event properties.
`} />
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.trackCustomEvent(@NonNull String eventName, JSONObject eventProperties);
Smartlook.trackCustomEvent(@NonNull String eventName, Bundle eventProperties);
Smartlook.trackCustomEvent(@NonNull String eventName, String validJsonString);
Smartlook.trackCustomEvent(@NonNull String eventName, @NotNull String key, String value);
      `,
      kotlin: `
Smartlook.trackCustomEvent(@NonNull eventName: String, eventProperties: JSONObject);
Smartlook.trackCustomEvent(@NonNull eventName: String, eventProperties: Bundle);
Smartlook.trackCustomEvent(@NonNull eventName: String, validJsonString: String);
Smartlook.trackCustomEvent(@NonNull eventName: String, @NotNull key: String, value: String);
      `,
    },
    cordova: {
      javascript: `
Smartlook.trackCustomEvent(
    {name: "sample_event", eventProperties: {id: "sample_id", text: "sample text"}})
      `,
    },
    ios: {
      swift: `
Smartlook.trackCustomEvent(name: String, props: [String : String]?)
`,
      'objective-c': `
+ (void)trackCustomEventWithName:(nonnull NSString*)eventName props:(nullable NSDictionary<NSString*, NSString*>*)props;
      `,
    },
    flutter: {
    dart: `
Smartlook.trackCustomEvent(String eventName, [Object map = null]);
`,
  },
  unity: {
    csharp: `
    //json string, obtained for example with JsonUtility.ToJson(param)
SmartlookUnity.TrackCustomEvent(string eventName, string properties);
`,
  },
  react: {
    javascript: `
Smartlook.trackCustomEvent(key, map);
`,
  }
  }}
/>

NOTE: Event properties will effectively use only flat json object.
This means that if you pass json object that includes objects or arrays as a child elements these elements are goint to be ignored.

Android
NOTE: If you struggle with serialization of your data take a look here.

## Navigation event
You can track screen/navigation transitions manually by calling:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.trackNavigationEvent(@NotNull String name, @ViewState String viewState);
      `,
      kotlin: `
Smartlook.trackNavigationEvent(@NotNull name: String, @ViewState viewState: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.trackNavigationEvent({name: "sample_screen", viewState: Smartlook.ViewState.START})
      `,
    },
    ios: {
      swift: `
static let enter: Smartlook.NavigationEventType
static let exit: Smartlook.NavigationEventType
 
Smartlook.trackNavigationEvent(withControllerId controllerId: String, type: Smartlook.NavigationEventType)
`,
      'objective-c': `
SLNavigationType const _Nonnull SLNavigationTypeEnter;
SLNavigationType const _Nonnull SLNavigationTypeExit;
 
+ (void)trackNavigationEventWithControllerId:(nonnull NSString *)controllerId type:(nonnull SLNavigationType)type;
      `,
    },
    flutter: {
    dart: `
Smartlook.trackNavigationEvent(String key, SmartlookNavigationEventType type);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.TrackNavigationEvent(string screenName, NavigationEventType direction);
`,
  },
  react: {
    javascript: `
Smartlook.trackNavigationEvent(screenName, "enter"/"exit");
`,
  }
  }}
/>
<MD visibleOn="android" markup={`
where \`viewState\` can be either \`ViewState.START\` or \`ViewState.STOP\`.
`} />
<MD visibleOn="ios" markup={`
where the \`type\` could flag the event as either \`enter\` or \`exit\` of the navigation controller.
`} />


NOTE: You need to track navigation events manually, because i.e. Unity or web technology based apps typically consist of single activity.

Android
You can also explicitly tell the SDK if the navigation event happened between `Activities` or `Fragments`:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.trackNavigationEvent(@NotNull String name, @ViewType String type, @ViewState String viewState);
      `,
      kotlin: `
Smartlook.trackNavigationEvent(@NotNull name: String, @ViewType type: String, @ViewState viewState: String)
      `,
    },
  }}
/>

where `viewType` is one of `ViewType.ACTIVITY` or `ViewType.FRAGMENT`.

## Timed event
In case you want to measure the duration of any time-sensitive or long-running actions in the app (for example download/upload). You can call one of:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.startTimedCustomEvent(@NotNull String eventName);
Smartlook.startTimedCustomEvent(@NotNull String eventName, JSONObject eventProperties);
Smartlook.startTimedCustomEvent(@NotNull String eventName, Bundle eventProperties);
Smartlook.startTimedCustomEvent(@NotNull String eventName, String eventPropertiesJson);
      `,
      kotlin: `
Smartlook.startTimedCustomEvent(@NotNull eventName: String)
Smartlook.startTimedCustomEvent(@NotNull eventName: String, eventProperties: JSONObject)
Smartlook.startTimedCustomEvent(@NotNull eventName: String, eventProperties: Bundle)
Smartlook.startTimedCustomEvent(@NotNull eventName: String, eventPropertiesJson: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.startTimedCustomEvent({name: "sample_timed_event", eventProperties: {sample: "object"}});
      `,
    },
    ios: {
      swift: `
Smartlook.startTimedCustomEvent(name: String, props: [String : String]?) -> Any
`,
      'objective-c': `
+ (id _Nonnull)startTimedCustomEventWithName:(nonnull NSString*)eventName props:(nullable NSDictionary<NSString*, NSString*>*)props;
      `,
    },
    flutter: {
    dart: `
Smartlook.startTimedCustomEvent(String eventName, [Object map = null]);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.StartTimedCustomEvent(string eventName);
SmartlookUnity.Smartlook.StartTimedCustomEvent(string eventName, string properties)
`,
  },
  react: {
    javascript: `
Smartlook.startTimedCustomEvent("sample_timed_event", {prop: "propValue"});
`,
  }
  }}
/>

This will not send out any event but returns a unique `eventId` that **needs to be stored** and its used to stop/cancel custom timed event.

To send out event with duration you need to call one of:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.stopTimedCustomEvent(@NotNull String eventId);
Smartlook.stopTimedCustomEvent(@NotNull String eventId, JSONObject eventProperties);
Smartlook.stopTimedCustomEvent(@NotNull String eventId, Bundle eventProperties);
Smartlook.stopTimedCustomEvent(@NotNull String eventId, String eventPropertiesJson);
      `,
      kotlin: `
Smartlook.stopTimedCustomEvent(@NotNull eventId: String)
Smartlook.stopTimedCustomEvent(@NotNull eventId: String, eventProperties: JSONObject)
Smartlook.stopTimedCustomEvent(@NotNull eventId: String, eventProperties: Bundle)
Smartlook.stopTimedCustomEvent(@NotNull eventId: String, eventPropertiesJson: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.stopTimedCustomEvent({eventId: "event_id", eventProperties: {sample: "object"}});
      `,
    },
    flutter: {
    dart: `
Smartlook.stopTimedCustomEvent(String key, [Object map = null]);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.StopTimedCustomEvent(string eventId);
SmartlookUnity.Smartlook.StopTimedCustomEvent(string eventId, string properties);
`,
  },
  react: {
    javascript: `
Smartlook.stopTimedCustomEvent("event_id", {prop: "propValue"});
`,
  }
  }}
/>

with corresponding `eventId` obtained from startTimedCustomEvent.

NOTE: Properties set in start will be **merged** with properties set in stop/cancel. Properties from stop/cancel have higher priority and will rewrite conflicting properties from start.

In case given action failed you can call `cancelTimedCustomEvent()` instead of `stopTimedCustomEvent()` and provide a **reason** of failure:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.cancelTimedCustomEvent(@NotNull String eventId, String reason);
Smartlook.cancelTimedCustomEvent(@NotNull String eventId, String reason, JSONObject eventProperties);
Smartlook.cancelTimedCustomEvent(@NotNull String eventId, String reason, Bundle eventProperties);
Smartlook.cancelTimedCustomEvent(@NotNull String eventId, String reason, String eventPropertiesJson);
      `,
      kotlin: `
Smartlook.cancelTimedCustomEvent(@NotNull eventId: String, reason: String)
Smartlook.cancelTimedCustomEvent(@NotNull eventId: String, reason: String, eventProperties: JSONObject)
Smartlook.cancelTimedCustomEvent(@NotNull eventId: String, reason: String, eventProperties: Bundle)
Smartlook.cancelTimedCustomEvent(@NotNull eventId: String, reason: String, eventPropertiesJson: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.cancelTimedCustomEvent({eventId: "event_id", reason: "cancel reason" eventProperties: {sample: "object"}});
      `,
    },
    ios: {
      swift: `
// to track successfull events
Smartlook.trackTimedCustomEvent(eventId: Any, props: [String : String]?)
// to track event cancellation
Smartlook.trackTimedCustomEventCancel(eventId: Any, reason: String?, props: [String : String]?)
`,
      'objective-c': `
// to track successfull events
+ (void)trackTimedCustomEventWithEventId:(id _Nonnull)eventId props:(nullable NSDictionary<NSString*, NSString*>*)props;
// to track event cancellation
+ (void)trackTimedCustomEventCancelWithEventId:(id _Nonnull)eventId reason:(NSString *_Nullable)reason props:(nullable NSDictionary<NSString*, NSString*>*)props;
      `,
    },
    flutter: {
    dart: `
Smartlook.cancelTimedCustomEvent(String key, String reason, [Object map = null]);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.CancelTimedCustomEvent(string eventId, string reason);
SmartlookUnity.Smartlook.CancelTimedCustomEvent(string eventId, string reason, string properties);
`,
  },
  react: {
    javascript: `
Smartlook.stopTimedCustomEvent("event_id", "reason", {prop: "propValue"});
`,
  }
  }}
/>

EXAMPLE: Typical use of timed event might look like this:

<CodeBlock
  snippets={{
    android: {
      java: `
String eventID = Smartlook.startTimedCustomEvent("duration_event");
Thread.sleep(1000); //long running operation
Smartlook.stopTimedCustomEvent(eventId);
      `,
      kotlin: `
val eventID = Smartlook.startTimedCustomEvent("duration_event")
Thread.sleep(1000) //long running operation
Smartlook.stopTimedCustomEvent(eventId)
      `,
    },
    cordova: {
      javascript: `
var eventID = Smartlook.startTimedCustomEvent({name: "duration_event"});
setTimeout(function() {
Smartlook.stopTimedCustomEvent({eventId: eventId})
}, 1000);
      `,
    },
    ios: {
      swift: `
let eventRef = Smartlook.startTimedCustomEvent("duration_event");
// some lenghty operation
Smartlook.trackTimedCustomEvent(eventRef);
`,
      'objective-c': `
id eventRef = [Smartlook startTimedCustomEventWithName:@"duration_event"];
// some lenghty operation
[Smartlook trackTimedCustomEventCancelWithEventId:eventRef];
      `,
    },
  }}
/>

In this case `duration_event` will have duration property set to circa 1000ms.

Android
## Customize automatic event detection
For some automatically detected events SDK tries to figure out the name from application context:
* **click event** - Event name consists of `Activity` name, `View` class (Button, etc.) and `id`.
* **navigation event** - Event name is set as `Activity`/`Fragment` name.

But sometimes it's impossible to name an event with an easy to read and descriptive name. Because of this SDK provides you with an option to personalize event names.

### Name click events
So a click on a given view has a custom event name instead of id it can be tagged directly in the XML layout file:

<CodeBlock
  snippets={{
    android: {
      xml: `
<View>
    <tag android:id="@id/smartlook_custom_name" android:value="custom_name"/>
</View>
      `,
    },
  }}
/>

NOTE: If View has `smartlook_custom_name` set, clicking on this view will trigger an event with name consisting of `Activity` name, `View` class (`Button`, etc.) and `smartlook_custom_name`.

### Name navigation events
Custom names for navigation events can be set in two different ways. `Activity`/`Fragment` can implement `SmartlookNamedController` interface:

<CodeBlock
  snippets={{
    android: {
      java: `
public class SettingsActivity extends AppCompatActivity implements SmartlookNamedController {
    @NotNull
    @Override
    public String getCustomName() {
        return "custom_activity_name";
    }
}
      `,
      kotlin: `
class SettingsActivity : AppCompatActivity(), SmartlookNamedController {
    @NotNull
    override fun getCustomName(): String {
        return "custom_activity_name";
    }
}
      `,
    },
  }}
/>

Or `Activity`/`Fragment` root view can be tagged directly in `XML` layout file:

<CodeBlock
  snippets={{
    android: {
      xml: `
<?xml version="1.0" encoding="utf-8"?>
<View>
	<tag android:id="@id/smartlook_custom_controller_name" android:value="custom_name"/>\n
	<!-- child views -->
</View>
      `,
    },
  }}
/>

## Global event properties
SDK lets you set data that will be attached to every event. We call these **global event properties**.
You can set global event properties:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setGlobalEventProperties(JSONObject globalEventProperties, boolean immutable);
Smartlook.setGlobalEventProperties(Bundle globalEventProperties, boolean immutable);
Smartlook.setGlobalEventProperties(String globalEventPropertiesJson, boolean immutable);
Smartlook.setGlobalEventProperty(@NotNull String key, @NotNull String value, boolean immutable);
      `,
      kotlin: `
Smartlook.setGlobalEventProperties(globalEventProperties: JSONObject, immutable: Boolean)
Smartlook.setGlobalEventProperties(globalEventProperties: Bundle, immutable: Boolean)
Smartlook.setGlobalEventProperties(globalEventPropertiesJson: String, immutable: Boolean)
Smartlook.setGlobalEventProperty(@NotNull key: String, @NotNull value: String, immutable: Boolean)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setGlobalEventProperties({globalEventProperties: {sample: "property"}, immutable: true/false});
      `,
    },
    ios: {
      swift: `
class func setGlobalEventProperty(value: String, forName name: String)
  
static var immutable: SLPropertyOption 
class func setGlobalEventProperty(value: String, forName name: String, options: SLPropertyOption)
`,
      'objective-c': `
+ (void)setGlobalEventPropertyValue:(nonnull NSString *)value forName:(nonnull NSString *)name;
  
typedef NS_OPTIONS(NSUInteger, SLPropertyOption) {
    SLPropertyOptionDefaults    = 0,
    SLPropertyOptionImmutable   = 1 << 0
};
+ (void)setGlobalEventPropertyValue:(nonnull NSString *)value forName:(nonnull NSString *)name withOptions:(SLPropertyOption)options;
      `,
    },
    flutter: {
    dart: `
Smartlook.setGlobalEventProperty(String key, String value, bool immutable)
Smartlook.setGlobalEventProperties(Object map, bool immutable)
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetGlobalEventProperty(string key, string value, bool immutable);
SmartlookUnity.Smartlook.SetGlobalEventProperties(string properties, bool immutable);
`,
  },
  react: {
    javascript: `
Smartlook.setGlobalEventProperty(key, value, immutable);
`,
  }
  }}
/>
<Alert kind="example" visibleOn="ios">
  <CodeBlock
    snippets={{
      ios: {
        swift: `
Smartlook.setGlobalEventProperty(value: "value", forName: "my-property");
Smartlook.setGlobalEventProperty(value: "immutable-value", forName: "my-immutable-property", options: .immutable)
`,
        'objective-c': `
[Smartlook setGlobalEventPropertyValue:@"value" forName:@"my-property"];
[Smartlook setGlobalEventPropertyValue:@"immutable-value" forName:@"my-immutable-property" withOptions:SLPropertyOptionImmutable];
      `,
    },
  }}
/>
</Alert>

Properties set to be **immutable** have the **highest** priority and once set they **cannot be overridden** (only removed).

NOTE: Global event properties have higher priority so in the merging process they will override custom properties with the same key.

## Remove global event properties
If you want to remove global property with a given key call:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.removeGlobalEventProperty(String propertyKey);
      `,
      kotlin: `
Smartlook.removeGlobalEventProperty(propertyKey: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.removeGlobalEventProperty({key: "property_key"});
      `,
    },
    ios: {
      swift: `
Smartlook.removeGlobalEventProperty(forName: String)
`,
      'objective-c': `
+ (void)removeGlobalEventPropertyForName:(nonnull NSString *)name;
      `,
    },
    flutter: {
    dart: `
Smartlook.removeGlobalEventProperty(String key)
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.RemoveGlobalEventProperty(string key);
`,
  },
  react: {
    javascript: `
Smartlook.removeGlobalEventProperty(key);
`,
  }
  }}
/>

Or you can remove all global event properties at once:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.removeAllGlobalEventProperties();
      `,
      kotlin: `
Smartlook.removeAllGlobalEventProperties()
      `,
    },
    cordova: {
      javascript: `
Smartlook.removeAllGlobalEventProperties();
      `,
    },
    ios: {
      swift: `
Smartlook.clearGlobalEventProperties()
`,
      'objective-c': `
+ (void)clearGlobalEventProperties;
      `,
    },
    flutter: {
    dart: `
Smartlook.removeAllGlobalEventProperties()
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.RemoveAllGlobalEventProperties();
`,
  },
  react: {
    javascript: `
Smartlook.removeAllGlobalEventProperties();
`,
  }
  }}
/>

NOTE: Global event properties are stored until they are not removed or the app is uninstalled.

## Event tracking modes
Sometimes it can be beneficial to disable automatically detected or all events due to security reasons. This can be done using one of the **event tracking modes**:

<TextBlock visibleOn="flutter,unity,react">
This functionality is not available yet.
</TextBlock>

<MD invisibleOn="ios" markup={`
* **FULL_TRACKING** this a default state. SDK tracks all automatically detected events along with all user defined events.
* **IGNORE_USER_INTERACTION** automatically detected events will not be tracked. User defined events are still enabled.
* **NO_TRACKING** no analytic events are enabled.
`} />
<MD visibleOn="ios" markup={`
* \`fullTracking\`: this a default state. SDK tracks all automatically detected events along with all user defined events.
* \`ignoreUserInteractionEvents\`: automatically detected events will not be tracked. User defined events are still enabled.
* \`noTracking\`: no analytic events are enabled.
`} />

Event tracking mode can changed **anytime** during the application run:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setEventTrackingMode(@EventTrackingMode String eventTrackingMode);
      `,
      kotlin: `
Smartlook.setEventTrackingMode(@EventTrackingMode eventTrackingMode: String);
      `,
    },
    cordova: {
      javascript: `
Smartlook.setEventTrackingMode({eventTrackingMode: Smartlook.EventTrackingMode.FULL_TRACKING});
      `,
    },
    ios: {
      swift: `
static let fullTracking: Smartlook.EventTrackingMode
static let ignoreUserInteractionEvents: Smartlook.EventTrackingMode
static let noTracking: Smartlook.EventTrackingMode
  
class func setEventTrackingMode(to eventTrackingMode: Smartlook.EventTrackingMode)
class func currentEventTrackingMode() -> Smartlook.EventTrackingMode
`,
      'objective-c': `
SLEventTrackingMode const SLEventTrackingModeFullTracking;
SLEventTrackingMode const SLEventTrackingModeIgnoreUserInteractionEvents;
SLEventTrackingMode const SLEventTrackingModeNoTracking;
  
+ (void)setEventTrackingModeTo:(nonnull SLEventTrackingMode)eventTrackingMode;
+ (nonnull SLEventTrackingMode)currentEventTrackingMode;
      `,
    },
  }}
/>

TIP: Take a look at pin code keyboard sample, demonstrating usage of analytic event modes.

# Rendering
SDK can use different methods of capturing screen image data. We call these rendering modes.

## Set rendering mode

<MD visibleOn="android" markup={`
You can change rendering mode on SDK setup using builder:
`} />
<MD visibleOn="ios" markup={`
Rendering mode can be set on SDK setup, e.g.:
`} />
<Alert kind="example">
  <CodeBlock
    snippets={{
      android: {
        java: `
Smartlook.SetupOptionsBuilder setupOptionsBuilder = new Smartlook.SetupOptionsBuilder(API_KEY)
        .setRenderingMode(@RenderingMode String renderingMode);\n
Smartlook.setupAndStartRecording(setupOptionsBuilder.build());
      `,
        kotlin: `
val setupOptionsBuilder = Smartlook.SetupOptionsBuilder(API_KEY)
        .setRenderingMode(@RenderingMode String renderingMode)\n
Smartlook.setupAndStartRecording(setupOptionsBuilder.build())
      `,
      },
      cordova: {
       javascript: `
Smartlook.setupAndStartRecording({smartlookAPIKey: "YOUR_API_KEY", renderingMode: Smartlook.RenderingMode.NATIVE});
      `,
      },
      ios: {
        swift: `
Smartlook.setup(key: YOUR_API_KEY, options: [.renderingMode: Smartlook.RenderingMode.wireframe]);
`,
      'objective-c': `
[Smartlook setupWithKey:@"YOUR_API_KEY" options:@{ SLSetupOptionRenderingModeOptionsKey: SLRenderingModeOptionBlueprintWireframe }];
      `,
      },
    }}
  />
</Alert>

Or at anytime during application run using:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setRenderingMode(@RenderingMode String renderingMode);
      `,
      kotlin: `
Smartlook.setRenderingMode(@RenderingMode renderingMode: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setRenderingMode({renderingMode: Smartlook.RenderingMode.NATIVE});
      `,
    },
    ios: {
      swift: `
class func setRenderingMode(to renderingMode: Smartlook.RenderingMode)
`,
      'objective-c': `
+ (void)setRenderingModeTo:(nonnull SLRenderingMode)renderingMode;
      `,
    },
    flutter: {
    dart: `
Smartlook.setRenderingMode(SmartlookRenderingMode renderingMode);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetRenderingMode(RenderingModeType renderingMode);
`,
  },
  react: {
    javascript: `
Smartlook.SetRenderingMode("native"/"no_rendering"/"wireframe");
`,
  }
  }}
/>

Rendering modes available:
<MD visibleOn="android" markup={`
* \`RenderingMode.NATIVE\`
* \`RenderingMode.WIREFRAME\`
* \`RenderingMode.NO_RENDERING\`
`} />
<CodeBlock
  snippets={{
    ios: {
      swift: `
Smartlook.RenderingMode.native
Smartlook.RenderingMode.wireframe
Smartlook.RenderingMode.noRendering
`,
      'objective-c': `
SLRenderingMode const SLRenderingModeNative;
SLRenderingMode const SLRenderingModeWireframe;
SLRenderingMode const SLRenderingModeNoRendering;
      `,
    },
  }}
/>

NOTE: `NO_RENDERING` mode does not record any screen data, this is beneficial on screens that include sensitive data, read more.

Android, iOS
## Rendering mode option
`WIREFRAME` rendering mode can be further configured by `renderingModeOption`:

Rendering mode option can be set on setup:

<Alert kind="example">
  <CodeBlock
   snippets={{
      android: {
        java: `
Smartlook.SetupOptionsBuilder setupOptionsBuilder = new Smartlook.SetupOptionsBuilder(API_KEY)
        .setRenderingMode(RenderingMode.WIREFRAME)
        .setRenderingModeOption(@RenderingModeOption String renderingModeOption);\n
Smartlook.setupAndStartRecording(setupOptionsBuilder.build());
      `,
        kotlin: `
val setupOptionsBuilder = Smartlook.SetupOptionsBuilder(API_KEY)
        .setRenderingMode(RenderingMode.WIREFRAME)
        .setRenderingModeOption(@RenderingModeOption renderingModeOption: String);\n
Smartlook.setupAndStartRecording(setupOptionsBuilder.build());
        `,
      },
      ios: {
        swift: `
class func  Smartlook.setup(key: String,
                        options: [
                          .renderingMode:Smartlook.RenderingMode,
                          .renderingModeOption:Smartlook.RenderingModeOption
                        ])
          `,
        'objective-c': `
+(void)setupWithKey:(nonnull NSString *)key 
            options:@{
              SLSetupOptionRenderingModeKey:SLRenderingMode,
              SLSetupOptionRenderingModeOptionsKey:SLRenderingModeOption
            };
        `,
      },
    }}
  />
</Alert>

Or at anytime during application run using:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setRenderingMode(RenderingMode.WIREFRAME, @RenderingModeOption String renderingModeOption);
      `,
      kotlin: `
Smartlook.setRenderingMode(RenderingMode.WIREFRAME, @RenderingModeOption renderingModeOption: String)
      `,
    ios: {
      swift: `
class func setRenderingMode(to renderingMode: Smartlook.RenderingMode, option renderingModeOption: Smartlook.RenderingModeOption?)
`,
      'objective-c': `
+ (void)setRenderingModeTo:(nonnull SLRenderingMode)renderingMode withOption:(nullable SLRenderingModeOption)renderingModeOption
      `,
    },
    },
  }}
/>

Rendering mode options for `WIREFRAME` rendering mode:
<MD visibleOn="android" markup={`
* \`RenderingMode.WIREFRAME\`
* \`RenderingMode.BLUEPRINT\`
* \`RenderingMode.ICON_BLUEPRINT\`
`} />
<CodeBlock
  snippets={{
    ios: {
      swift: `
Smartlook.RenderingModeOption.none
Smartlook.RenderingModeOption.colorWireframe
Smartlook.RenderingModeOption.blueprintWireframe
Smartlook.RenderingModeOption.iconBlueprintWireframe
`,
      'objective-c': `
SLRenderingModeOption const SLRenderingModeOptionNone;
SLRenderingModeOption const SLRenderingModeOptionColorWireframe;
SLRenderingModeOption const SLRenderingModeOptionBlueprintWireframe;
SLRenderingModeOption const SLRenderingModeOptionIconBlueprintWireframe;
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
# Network intercepting
You can track your apps' HTTP traffic using the network inceptor provided by the SDK. This feature is available to you if you are using **OkHttp** for your HTTP/REST communication.
\n
NOTE: If you are using another HTTP library that allows intercepting, please feel free to submit a feature request here.
\n
## OkHttp interceptor
If you are using \`OkHttp\` you can add Smartlook interceptor as a another \`NetworkInterceptor\` when creating a \`OkHttpClient\` like this:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
OkHttpClient client = new OkHttpClient.Builder()
    .addNetworkInterceptor(new SmartlookOkHttpInterceptor())
    .build();
      `,
      kotlin: `
val client = OkHttpClient.Builder()
    .addNetworkInterceptor(SmartlookOkHttpInterceptor())
    .build()
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
We will **not read or send out any body data**, we are reading and sending only these request metadata:
* **Request url** that can be stripped of any sensitive data -> read more.
* **Http method** used for this request.
* **Request headers** that can be filtered out so they do not leak any sensitive data.
* **Response headers** that are filtered out so they do not leak any sensitive data.
* **Protocol** negotiated by this connection.
* **Duration** between request and response/failure.
* **Request status** stating if the request was successful or eventually how it failed, can be one of:
  * Ok
  * Error
  * Abort
  * Timeout
* **Status code** of http response.
* Flag stating if response was received from **cache**.
\n
NOTE: All intercepted requests can be displayed in **dev tools** on every recording.
\n
### Url masks
You can hide sensitive parts of request URLs using \`UrlMask\`:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
new UrlMask(String regex);
new UrlMask(String regex, String replaceWith);
      `,
      kotlin: `
UrlMask(regex: String)
UrlMask(regex: String, replaceWith: String)
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
NOTE: If you don't specify \`replaceWith\` \`String\` explicitly the default replace \`String\` is used.
You need to initialize \`SmartlookOkHttpInterceptor\` using \`Builder\` to define used \`UrlMask\`s:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
new SmartlookOkHttpInterceptor.Builder()
                .addUrlMask(UrlMask urlMask)
                .build();
      `,
      kotlin: `
SmartlookOkHttpInterceptor.Builder()
                .addUrlMask(urlMask: UrlMask)
                .build()
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
EXAMPLE: We are intercepting request with URL containing sensitive query named \`secret\`:
\`\`\`
https://example.com/page?secret=password&second=query
\`\`\`
\n
The content of sensitive query can be hidden for intercepting using \`UrlMask\`:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
SmartlookOkHttpInterceptor interceptor = new SmartlookOkHttpInterceptor.Builder()
        .addUrlMask(new UrlMask("(name=)[^&]+(&*)", "$1<sensitive>$2"))
        .build();\n
OkHttpClient client = new OkHttpClient.Builder()
        .addNetworkInterceptor(interceptor)
        .build();
      `,
      kotlin: `
val interceptor = SmartlookOkHttpInterceptor.Builder()
        .addUrlMask(UrlMask("(name=)[^&]+(&*)", "$1<sensitive>$2"))
        .build()\n
val client = OkHttpClient.Builder()
        .addNetworkInterceptor(interceptor)
        .build()
      `,
    },
  }}
/>

<MD visibleOn="android" markup={`
With above shown \`UrlMask\` intercepted request will have following URL stored:
\n
\`\`\`
https://example.com/page?secret=<sensitive>&second=query
\`\`\`
\n
### Sensitive headers
\n
Intercepted headers can contain sensitive data, so they need to be filtered out by their name. This can be done using \`sensitiveHeaderNameRegexps\`, this list of sensitive header names contains these regular expressions by default:
* \`".*csrf.*"\`
* \`".*token.*"\`
* \`".*auth.*"\`
* \`".*key.*"\`
* \`".*cookie.*"\`
\n
You can define your custom list of sensitive header name regular expressions:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
new SmartlookOkHttpInterceptor.Builder()
        .addSensitiveHeaderNameRegex(String headerRegex)
        .build();
      `,
      kotlin: `
SmartlookOkHttpInterceptor.Builder()
        .addSensitiveHeaderNameRegex(headerRegex: String)
        .build()
      `,
    },
  }}
/>

# Utility methods

## Instal referrer
When your application is installed from the **Google Play Store** Smartlook SDK **automatically** tracks install referrer.

You can also set your custom referrer using:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.setReferrer(String referrer, String source);
      `,
      kotlin: `
Smartlook.setReferrer(referrer: String, source: String)
      `,
    },
    cordova: {
      javascript: `
Smartlook.setReferrer({referrer: "sample referrer", source: "sample source"});
      `,
    },
    flutter: {
    dart: `
Smartlook.setReferrer(String referrer, String source);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.SetReferrer(string referrer, string source);
`,
  },
  react: {
    javascript: `
Smartlook.setReferrer("referrer", "source");
`,
  }
  }}
/>

NOTE: Referrer value and source of installation is stored per visitor and can be viewed in Dashboard.

## Dashboard session URL
You can obtain URL leading to Smartlook Dashboard for currently recorded session:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.getDashboardSessionUrl(boolean withCurrentTimestamp);
      `,
      kotlin: `
Smartlook.getDashboardSessionUrl(withCurrentTimestamp: Boolean)
      `,
    },
    cordova: {
      javascript: `
 Smartlook.getDashboardSessionUrl({withCurrentTimestamp: true}, successCallback, ...);\n
 function successCallback(dashboardSessionUrl) {
  alert('Dashboard session URL: ' + dashboardSessionUrl);
 }
      `,
    },
    ios: {
      swift: `
class func getDashboardSessionURL(withCurrentTimestamp withTimestamp: Bool) -> URL?
`,
      'objective-c': `
+ (nullable NSURL *)getDashboardSessionURLWithCurrentTimestamp:(BOOL)withTimestamp;
      `,
    },
    flutter: {
    dart: `
Smartlook.getDashboardSessionUrl(bool withCurrentTimestamp);
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.GetDashboardSessionUrl(bool withCurrentTimestamp);
`,
  },
  react: {
    javascript: `
Smartlook.getDashboardSessionUrl(withCurrentTimestamp);
`,
  }
  }}
/>

<MD visibleOn="android,cordova" markup={`
If \`withCurrentTimestamp\` is set to \`TRUE\` link will include information about current recording timestamp. 
This will ensure that the player will start playing the session at the moment when \`getDashboardSessionUrl\` was called.
`} />
<MD visibleOn="ios" markup={`
If \`withCurrentTimestamp\` is set to \`true\` link will include information about current recording timestamp. 
This will ensure that the player will start playing the session at the moment when \`getDashboardSessionUrl\` was called.
`} />

NOTE: This URL can be opened only by someone who has access to your dashboard. This is **not a public shareable link**.

## Dashboard visitor URL
You can obtain URL leading to Smartlook Dashboard for currently recorded visitor:

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.getDashboardVisitorUrl();
      `,
      kotlin: `
Smartlook.getDashboardVisitorUrl()
      `,
    },
    cordova: {
      javascript: `
 Smartlook.getDashboardSessionUrl(successCallback, ...);\n
 function successCallback(dashboardVisitorUrl) {
  alert('Dashboard visitor URL: ' + dashboardVisitorUrl);
 }
      `,
    },
    ios: {
      swift: `
class func getDashboardVisitorURL() -> URL?`,
      'objective-c': `
+ (nullable NSURL *)getDashboardVisitorURL;
      `,
    },
    flutter: {
    dart: `
Smartlook.getDashboardVisitorUrl();
`,
  },
  unity: {
    csharp: `
SmartlookUnity.Smartlook.GetDashboardVisitorUrl();
`,
  },
  react: {
    javascript: `
Smartlook.getDashboardVisitorUrl();
`,
  }
  }}
/>

NOTE: This URL can be opened only by someone who has access to your dashboard. This is **not a public sharing link**.

# Integrations

## Manual integration

<MD visibleOn="android" markup={`
You can manually integrate Smartlook info various analytic frameworks using our \`IntegrationListener\`.
\n
You can register the listener like this:
`} />
<MD visibleOn="ios" markup={`
You can register to dashboard URL change notifications to integrate them programmatically into other 3rd party analytics frameworks.
\n
The notifications are:
`} />

<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.registerIntegrationListener(new IntegrationListener() {
    @Override
    public void onSessionReady(@NotNull String dashboardSessionUrl) {
        AnalyticsTool.trackSession(dashboardSessionUrl);
    }\n
    @Override
    public void onVisitorReady(@NotNull String dashboardVisitorUrl) {
        AnalyticsTool.trackVisitor(dashboardSessionUrl);
    }
});
      `,
      kotlin: `
Smartlook.registerIntegrationListener(object : IntegrationListener {
    override fun onSessionReady(dashboardSessionUrl: String) {
      AnalyticsTool.trackSession(dashboardSessionUrl)
    }\n
    override fun onVisitorReady(dashboardVisitorUrl: String) {
      AnalyticsTool.trackVisitor(dashboardSessionUrl)
    }
})
      `,
    },
    cordova: {
      javascript: `
 Smartlook.registerIntegrationListener({
  onSessionReady: function (dashboardSessionUrl) { alert("Session: " + dashboardSessionUrl); },
  onVisitorReady: function (dashboardVisitorUrl) { alert("Visitor: " + dashboardVisitorUrl); }
});
      `,
    }, 
    ios: {
      swift: `
public class let dashboardSessionURLChanged: NSNotification.Name
public class let dashboardVisitorURLChanged: NSNotification.Name
`,
      'objective-c': `
NSNotificationName const SLDashboardSessionURLChangedNotification;
NSNotificationName const SLDashboardVisitorURLChangedNotification;
      `,
    },
    flutter: {
    dart: `
    class CustomIntegrationListener implements IntegrationListener {
  void onSessionReady(String dashboardSessionUrl) {
    print(dashboardSessionUrl);
  }
\n
  void onVisitorReady(String dashboardVisitorUrl) {
    print(dashboardVisitorUrl);
  }
}
\n
Smartlook.registerIntegrationListener(new CustomIntegrationListener());
`,
  },
  unity: {
    csharp: `
    public class IntegrationListener : SmartlookUnity.IntegrationListener
{
    public override void onSessionReady(string dashboardSessionUrl)
    {
        Debug.Log("dashboardSessionUrl : " + dashboardSessionUrl);
    }
\n
    public override void onVisitorReady(string dashboardVisitorUrl)
    {
        Debug.Log("dashboardVisitorUrl : " + dashboardVisitorUrl);
    }
}
\n
SmartlookUnity.Smartlook.RegisterIntegrationListener(new IntegrationListener());
`,
  },
  react: {
    javascript: `
Smartlook.registerIntegrationListener(
    (visitor) => {
      console.log("app visitor", visitorUrl)
    },
    (dash) => {
      console.log("app dash", dashboardUrl)
    }
  );
`,
  }
  }}
/>

NOTE: You can find samples of integrations into most popular frameworks here.

<MD visibleOn="android" markup={`
If you want to uregister the listener simply call:
`} />
<CodeBlock
  snippets={{
    android: {
      java: `
Smartlook.unregisterIntegrationListener();
      `,
      kotlin: `
Smartlook.unregisterIntegrationListener()
      `,
    },
    cordova: {
      javascript: `
 Smartlook.unregisterIntegrationListener();
      `,
    },
  }}
/>

## Automatic integrations
Smartlook SDK automatic integrations into mopst popular frameworks are in progress.