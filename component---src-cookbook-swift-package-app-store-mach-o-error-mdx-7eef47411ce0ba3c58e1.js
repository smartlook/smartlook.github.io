(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{J1Qg:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return d})),a.d(t,"default",(function(){return u}));var r=a("Fcif"),o=a("+I+c"),n=(a("mXGw"),a("/FXl")),i=a("TjRS"),c=a("+8zC"),l=a("CQiq"),b=a.n(l),p=(a("aD51"),["components"]),d={};void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!Object.prototype.hasOwnProperty.call(d,"__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/cookbook/swift-package-app-store-mach-o-error.mdx"}});var s={_frontmatter:d},m=i.a;function u(e){var t=e.components,a=Object(o.a)(e,p);return Object(n.b)(m,Object(r.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)(c.l,{mdxType:"Title"},"iOS technical note: On “Found an unexpected Mach-O header code: 0x72613c2” App Store upload error"),Object(n.b)(c.k,{kind:"important",mdxType:"TextBlock"},"\nThis guide may apply to all frameworks that create or generate iOS applications and use Swift Package Manager.\n"),Object(n.b)("p",null,"When uploading your app with embedded Smartlook or another static library Swift Package, you may experience the following:"),Object(n.b)("p",null,Object(n.b)("inlineCode",{parentName:"p"},"Found an unexpected Mach-O header code: 0x72613c2")),Object(n.b)("p",null,"error that protects you from uploading the app to the App Store."),Object(n.b)("p",null,"The cause of this error is a ",Object(n.b)("strong",{parentName:"p"},"bug in Xcode")," that does not handle static libraries being added via Swift Package Manager properly. The static libraries are linked right, but then they are packaged to the app archive to be set to the App Store as if they are dynamic."),Object(n.b)("p",null,"To fix this, use the following steps:"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Add Swift Package as normal"),Object(n.b)("li",{parentName:"ol"},"Navigate to you ",Object(n.b)("strong",{parentName:"li"},"app target General info")," pane"),Object(n.b)("li",{parentName:"ol"},"In the left column Project Navigator, reveal the ",Object(n.b)("strong",{parentName:"li"},"Swift Package structure")),Object(n.b)("li",{parentName:"ol"},"Drop the xcproject to ",Object(n.b)("strong",{parentName:"li"},"Frameworks, Libraries, and Embedded Content")," list next to the library already added by the Swift Package Manager"),Object(n.b)("li",{parentName:"ol"},"Change its ",Object(n.b)("strong",{parentName:"li"},"Embed")," type to ",Object(n.b)("strong",{parentName:"li"},"Do Not Embed")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("strong",{parentName:"li"},"Remove the original reference")," (ignore the warning about removing the dependency)"),Object(n.b)("li",{parentName:"ol"},"Delete the ",Object(n.b)("strong",{parentName:"li"},"Xcode derived data")," folder content (usually in ",Object(n.b)("inlineCode",{parentName:"li"},"~/Library/Developer/Xcode/DerivedData"),")")),Object(n.b)("p",null,"From now on, Xcode should treat the static library added in Swift Package as expected."),Object(n.b)("img",{src:b.a}))}void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!Object.prototype.hasOwnProperty.call(u,"__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/cookbook/swift-package-app-store-mach-o-error.mdx"}}),u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-cookbook-swift-package-app-store-mach-o-error-mdx-7eef47411ce0ba3c58e1.js.map