{"version":3,"sources":["webpack:///../src/relay-proxy/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","kind","parentName","alt","src","isMDXComponent"],"mappings":"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","file":"component---src-relay-proxy-index-mdx-5f2b98d4a40a7e8ad72b.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/smartlook.github.io/smartlook.github.io/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Link, Title, Code, TextBlock } from 'components';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Title mdxType=\"Title\">Smartlook Relay Proxy</Title>\n    <p>{`This service relays HTTP requests from your subdomain to\nSmartlook's recording domains, allowing you to bypass potential browser settings or extensions used by your visitors configured to limit data capture.`}</p>\n    <TextBlock kind=\"important\" mdxType=\"TextBlock\">\n\tOnly web recording is currently supported.\n    </TextBlock>\n    <h2 {...{\n      \"id\": \"environment-variables\"\n    }}>{`Environment variables`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Default value`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`LOGGER_LEVEL`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`'info'`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`One of `}<inlineCode parentName=\"td\">{`trace`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`debug`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`info`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`warn`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`error`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`fatal`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`silent`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`MANAGER_HOST`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`'https://manager.eu.smartlook.cloud'`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Smartlook Manager host`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`WEB_SDK_WRITER_HOST`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`'https://web-writer.eu.smartlook.cloud'`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Smartlook Web Writer host`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`ASSETS_PROXY_HOST`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`'https://assets-proxy.smartlook.cloud'`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Smartlook Assets Proxy host`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"installation-and-deployment\"\n    }}>{`Installation and deployment`}</h2>\n    <p>{`Image is available on `}<a parentName=\"p\" {...{\n        \"href\": \"https://hub.docker.com/r/smartlook/relay-proxy\"\n      }}>{`Docker Hub`}</a>{`.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Run the image and configure environment variables according to your needs.`}<br parentName=\"li\"></br>\n        <strong parentName=\"li\">{`All variables are optional, default values are listed in the table above`}</strong>{`.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`docker run --name=\"smartlook-relay-proxy\" -d \\\\\n  # can be also set with \"--env-file\"\n  -e LOGGER_LEVEL=<level> \\\\\n  -e MANAGER_HOST=<host> \\\\\n  -e WEB_SDK_WRITER_HOST=<host> \\\\\n  -e ASSETS_PROXY_HOST=<host> \\\\\n  -p <port>:8000 \\\\  # mapping is optional, internally runs on port 8000\n  smartlook/relay-proxy:latest\n`}</code></pre>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a new subdomain (e.g. `}<em parentName=\"p\">{`sl.yourdomain.com`}</em>{`) and point it to the container.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace URLs in Smartlook script (`}<strong parentName=\"p\">{`only next-gen tracking code is supported`}</strong>{`).`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<script>\n    window.smartlook ||\n      (function (d) {\n      var o = (smartlook = function () {\n        o.api.push(arguments)\n      }), h = d.getElementsByTagName('head')[0];\n      var c = d.createElement('script');\n      o.api = new Array();\n      c.async = true;\n      c.crossOrigin = 'anonymous';\n      c.type = 'text/javascript';\n      c.charset = 'utf-8';\n      c.src = 'https://<your-relay-proxy-host>/recorder.js';\n      h.appendChild(c);\n    })(document);\n    smartlook('init', <project-key>, { host: '<your-relay-proxy-host>' });\n</script>\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">{`You're done! Visit your site and check the network tab to make sure the requests are sent through your subdomain.\n`}<img alt=\"network tab screenshot\" src=\"https://raw.githubusercontent.com/smartlook/smartlook-relay-proxy/main/network.png\" /></li>\n    </ol>\n    <h2 {...{\n      \"id\": \"development\"\n    }}>{`Development`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`# See all available commands\nmake help\n\n# Build and start development server (port 80 by default)\n# Do not forget to configure environment variables in docker-compose.dev.yml\nmake dev # add \\`build=yes\\` for rebuild\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"license\"\n    }}>{`License`}</h2>\n    <p>{`See `}<a parentName=\"p\" {...{\n        \"href\": \"https://raw.githubusercontent.com/smartlook/smartlook-relay-proxy/main/LICENSE\"\n      }}>{`LICENSE`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}