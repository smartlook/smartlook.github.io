(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Nfc0:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return l})),n.d(t,"default",(function(){return p}));var s=n("Fcif"),i=n("+I+c"),o=(n("mXGw"),n("/FXl")),r=n("TjRS"),a=n("+8zC"),l=(n("NRsk"),n("aD51"),{});void 0!==l&&l&&l===Object(l)&&Object.isExtensible(l)&&!l.hasOwnProperty("__filemeta")&&Object.defineProperty(l,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/conceptual/life-cycle-session-user.mdx"}});var d={_frontmatter:l},c=r.a;function p(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)(c,Object(s.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)(a.k,{mdxType:"Title"},"Life Cycle, Session, User"),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"This section covers the way Smartlook automatically follows an application life cycle, and introduces the concept of recording sessions and users.")),Object(o.b)("p",null,"Apart from the initial Smartlook setup when a new instance of an application starts, Smartlook follows the life cycle of the application automatically. When the application is suspended to the background, recording is paused automatically. When the application resumes to the frontend again, the recording resumes. There is no need to call API methods to achieve this basic behavior."),Object(o.b)("h1",{id:"session"},"Session"),Object(o.b)("p",null,"Sessions roughly correspond to individual application “runs.”"),Object(o.b)("p",null,"This does not mean, however, that each interval when the application is onscreen is always recorded as a separate session. When an application is suspended to the background just for a short period of time (e.g., it is interrupted by an incoming call, notification, etc.), the original session continues when the application is resumed. If the application is closed for several minutes, a new session will start at the next application opening."),Object(o.b)(a.j,{kind:"important",mdxType:"TextBlock"},"\nTo change this default behavior, an API method that resets the session must be called when appropriate, as described later in this document.\n"),Object(o.b)("h1",{id:"user"},"User"),Object(o.b)("p",null,"Smartlook records user interactions with the application in sessions."),Object(o.b)("p",null,"Every session has a single user. A single user can have multiple sessions."),Object(o.b)("p",null,"User can be uniquely identified by a respective identifier:"),Object(o.b)(a.c,{kind:"example",snippets:{android:{java:'\nSmartlook.setUserIdentifier("sample_user_identifier");\n      ',kotlin:'\nSmartlook.setUserIdentifier("sample_user_identifier")\n      '},ios:{swift:"\nSmartlook.setUserIdentifier(someInternalUserID)\n      ","objective-c":"\n[Smartlook setUserIdentifier:someInternalUserID];\n      "},react:{js:'\nSmartlook.setUserIdentifier("sample_user_identifier");\n'},unity:{csharp:'\nSmartlookUnity.Smartlook.SetUserIdentifier("sample_user_identifier");\n'},unreal:{csharp:"\nUNREAL - C#\n      "},cocos:{java:'\nSmartlook.setUserIdentifier("sample_user_identifier");\n      ',kotlin:'\nSmartlook.setUserIdentifier("sample_user_identifier")\n      '},cordova:{javascript:'\nSmartlook.setUserIdentifier({identifier: "sample_user_identifier"});\n    '},ionic:{typescrit:'\nsmartlook.setUserIdentifier(new SmartlookUserIdentifier("sample_user_identifier"))\n      '},flutter:{dart:"\nSmartlook.setUserIdentifier('sample_user_identifier');\n   "},xamarin:{csharp:'\nDictionary<string, string> props = new Dictionary<string, string>();\nprops["name"] = "Sample Name";\nSmartlook.Analytics.SetUserIdentifier("sample_user_identifier", props);\n      '}},mdxType:"CodeBlock"}),Object(o.b)(a.j,{kind:"note",mdxType:"TextBlock"},"\nThis call associates the current user with the provided ID. If a user with such an ID already exists in one of your Smartlook projects, the session is automatically assigned to that user.\n"),Object(o.b)(a.j,{kind:"important",mdxType:"TextBlock"},"\nWhen this method is called on again with a different user identifier, it does not create a new user, it changes the ID of the user currently associated with the session. To “login” a new user, use the resetSession method described in the following section.\n"),Object(o.b)("p",null,"The application remembers the last user’s ID and reuses it as the default user ID with each new session (i.e., when the application is launched again on the device). This happens even when the user is not identified explicitly. This ensures that when the application runs again on the same device, the implicit users are by default associated together."),Object(o.b)(a.d,{to:"/docs/sdk/api-reference#user-identification",mdxType:"Link"},"User identification API Reference"),Object(o.b)("h1",{id:"explicit-control-of-sessions-and-users"},"Explicit Control of Sessions and Users"),Object(o.b)("p",null,"In some use-cases it makes sense to explicitly control the session and users’ flow. For example, when a device with an application is shared among many users. In these cases the application should always start with a fresh session (or user). To do so, use one of the following setup options:"),Object(o.b)(a.j,{visibleOn:"react,flutter,unity",mdxType:"TextBlock"},"\nSoon we will provide better setup options via builder mechanism, meanwhile please use:\n"),Object(o.b)(a.c,{kind:"example",snippets:{android:{java:"\n// to always setup with new session\nSmartlook.SetupOptionsBuilder builder = new Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSession();\nSmartlook.setupAndStartRecording(builder.build());\n\n// to start with new session and user\nSmartlook.SetupOptionsBuilder builder = new Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSessionAndUser();\nSmartlook.setupAndStartRecording(builder.build());\n      ",kotlin:"\n// to always setup with new session\nval builder = Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSession()\nSmartlook.setupAndStartRecording(builder.build());\n\n// to start with new session and user\nval builder = Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSessionAndUser()\nSmartlook.setupAndStartRecording(builder.build())\n      "},ios:{swift:'\n// to always setup with new session\nSmartlook.setup(key: "THE_API_KEY",\n                options: [.startNewSession: true])\\n\n// to start with new session and user\nSmartlook.setup(key: "THE_API_KEY",\n                options: [.startNewSessionAndUser: true])\n      ',"objective-c":'\n// to always setup with new session\n[Smartlook setupWithKey:@"THE_API_KEY"\n                options:@{\n                     SLSetupOptionStartNewSessionKey: @YES\n                }];\n\n// to setup with new session and user\n[Smartlook setupWithKey:@THE_API_KEY\n                options:@{\n                     SLSetupOptionStartNewSessionAndResetUserKey: @YES\n                }];\n      '},react:{js:"\n// to always setup with new session\nSmartlook.setupAndStartRecording(API_KEY);\nSmartlook.resetSession(false);\n\n// to start with new session and user\nSmartlook.setupAndStartRecording(API_KEY);\nSmartlook.resetSession(true);\n"},unity:{csharp:"\n// to always setup with new session\nSmartlookUnity.Smartlook.SetupAndStartRecording(API_KEY);\nSmartlookUnity.Smartlook.ResetSession(false);\n\n// to start with new session and user\nSmartlookUnity.Smartlook.SetupAndStartRecording(API_KEY);\nSmartlookUnity.Smartlook.ResetSession(true);\n"},unreal:{csharp:"\nUNREAL - C#\n      "},cocos:{java:"\n// to always setup with new session\nSmartlook.SetupOptionsBuilder builder = new Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSession();\nSmartlook.setupAndStartRecording(builder.build());\n\n// to start with new session and user\nSmartlook.SetupOptionsBuilder builder = new Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSessionAndUser();\nSmartlook.setupAndStartRecording(builder.build());\n      ",kotlin:"\n// to always setup with new session\nval builder = Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSession()\nSmartlook.setupAndStartRecording(builder.build());\n\n// to start with new session and user\nval builder = Smartlook.SetupOptionsBuilder(API_KEY)\n        .startNewSessionAndUser()\nSmartlook.setupAndStartRecording(builder.build())\n      "},cordova:{javascript:'\n// to always setup with new session\nSmartlook.setupAndStartRecording({\n  smartlookAPIKey: "API_KEY",\n  startNewSession: true\n});\n\n// to always setup with new session and user\nSmartlook.setupAndStartRecording({\n  smartlookAPIKey: "API_KEY",\n  startNewSessionAndUser: true\n});\n    '},ionic:{typescrit:"\n// to always setup with new session\nvar builder = new SmartlookSetupConfigBuilder(API_KEY)\n        .startNewSession(true);\n\nSmartlook.setupAndStartRecording(builder.build());\n\n// to always setup with new session and user\nvar builder = new SmartlookSetupConfigBuilder(API_KEY)\n        .startNewSessionAnduser(true);\n\nSmartlook.setupAndStartRecording(builder.build());\n\n      "},flutter:{dart:"\n// to always setup with new session\nSmartlook.setupAndStartRecording(API_KEY);\nSmartlook.resetSession(false);\n\n// to start with new session and user\nSmartlook.setupAndStartRecording(API_KEY);\nSmartlook.resetSession(true);\n   "},xamarin:{csharp:"\n// to always setup with new session\nAnalytics.SetupOptions smartlookSetupOptions = new Analytics.SetupOptions(startNewSession: true); \nSmartlook.Analytics.SetupAndStart(API_KEY, smartlookSetupOptions);\n\n// to start with new session and user\nAnalytics.SetupOptions smartlookSetupOptions = new Analytics.SetupOptions(startNewSessionAndResetUser: true);\nSmartlook.Analytics.SetupAndStart(API_KEY, smartlookSetupOptions);\n      "}},mdxType:"CodeBlock"}),Object(o.b)("p",null,"When it is desired to start a new session, or login a new user while the application is running, it is also possible by using a dedicated ",Object(o.b)("inlineCode",{parentName:"p"},"resetSession")," method. This method takes one parameter, then indicates whether the user identity should also be reset, or whether the new session should retain the user from the current session"),Object(o.b)(a.d,{to:"/docs/sdk/api-reference#reset-session",mdxType:"Link"},"Reset Session API reference"),".",Object(o.b)(a.j,{kind:"important",mdxType:"TextBlock"},"\nIt is not recommended to call this method when the application is being closed. Smartlook is busy with cleaning up when the application is going to the background, and calling this method may create ephemeral sessions as an unwanted consequence. If it is prefered that sessions do not continue with the next application launch under any circumstances, the setup resetSession options when initializing Smartlook should be used instead.\n"),Object(o.b)("h1",{id:"explicit-recording-stopping-and-starting"},"Explicit Recording Stopping and Starting"),Object(o.b)(a.j,{kind:"important",mdxType:"TextBlock"},"**Smartlook follows the application life cycle automatically** and it is not necessary, under normal circumstances, to stop and restart recording programmatically."),Object(o.b)("p",null,"However, in situations when it is practical to record just a small part of the application, it is still possible to stop and start recording programmatically. Smartlook API has methods to stop and start the recording, as well as a property that returns the current recording state."),Object(o.b)(a.d,{to:"/docs/sdk/api-reference#start-and-stop-recording",mdxType:"Link"},"Start and Stop Recording API reference"),Object(o.b)(a.j,{kind:"note",mdxType:"TextBlock"},'\nWhen the recording is controlled programmatically this way, the time the user spends in the rest of the application is not visible on the timeline. Thus, for just a short recording interruption (e.g., when the user fills in some form full of sensitive data), consider switching to some combination of rendering and event tracking modes. This way, the time the user spends incognito is visible on the timeline. More about this can be found in <Link to="/docs/sdk/conceptual/handling-sensitive-data">Handling Sensitive Data</Link>.\n'),Object(o.b)("h1",{id:"session-and-user-properties"},"Session and User Properties"),Object(o.b)(a.j,{mdxType:"TextBlock"},'\nIn many cases, it is convenient to associate some custom properties to the current session and user. Details could be found in the respective <Link to="/docs/sdk/api-reference#user-properties">API Reference</Link>.\n'),Object(o.b)(a.j,{kind:"note",mdxType:"TextBlock"},"\nCurrently, only string values are accepted both as property keys and values.\n"))}void 0!==p&&p&&p===Object(p)&&Object.isExtensible(p)&&!p.hasOwnProperty("__filemeta")&&Object.defineProperty(p,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/conceptual/life-cycle-session-user.mdx"}}),p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-conceptual-life-cycle-session-user-mdx-18f9b2d33ded5ff25223.js.map